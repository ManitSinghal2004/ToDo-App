<html>

	<head>
		<title> <%= title %> </title>
		<link rel="stylesheet" href="/css/home.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

	</head>

	<body>
		<h1 id = "page-heading" >
			TODO APP
		</h1>
		<form action="/create-todo" method="POST" class="form">
			<div class = "desc">
				<label for="todo" class = "desc-name">DESCRIPTION</label><br>
				<input type="text" id="todo" name="desc" placeholder="What do you need to do?" required><br>
			</div>

			<div class="flex-2">
				<div class="cat">
					<label for="category" class = "cat-name">CATEGORY</label><br>
			        <div class="dropdown">
					  <select name="cat">
					  	<option value="default" selected disabled hidden>Choose a category</option>
					  	<option value="Personal">Personal</option>
					  	<option value="Work">Work</option>
					  	<option value="School">School</option>
					  	<option value="Cleaning">Cleaning</option>
					  	<option value="Others">Others</option>
					  </select>
					</div>
				</div>

				<div class="date">
					<label for="date" class="date-name">DUE DATE</label>
					<input class="form-control" type="datetime-local" name="date" placeholder="Select date and time">
				</div>
			</div>
			<div class="buttons">
				<button type="submit" class="add">
					<i class="fa-solid fa-plus"></i>
					ADD TASK
				</button>
				
			</div>

			<div class="desc-cat">
				<ul >
					<% for(let i of todo_list) {%>
						<li class="list">
							<input type="checkbox" name="report" id="checkbox" data-id="<%= i._id %>">
							<p class="desc-down"><%= i.desc %></p>
							<p class="cat-down"><%= i.cat %></p>
							<div class="down">
								<i class="fa-solid fa-calendar-days"></i>
								<p class="inline"><%= i.date %></p>
							</div>
						</li>

					<%}%>
				</ul>
			</div>
		</form>

		<form action="/delete-todo" method="POST" class="form">
			<button type="submit" class="delete">
				<i class="fa-solid fa-trash"></i>
				DELETE TASKS
			</button>
		</form>	


		<script type="text/javascript" src="/js/home.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

		<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

		<script type="text/javascript">
			flatpickr("input[type=datetime-local]", {
				enableTime: true,
    			dateFormat: "d-m-Y H:i",
			});
		</script>

	</body>
</html>